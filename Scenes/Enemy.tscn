[gd_scene load_steps=11 format=4 uid="uid://dhu1o0sk11rpn"]

[ext_resource type="Script" uid="uid://cr5es8mrpvudp" path="res://Scripts/Enemy.gd" id="1_m1htj"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wovta"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_xeo28"]
material = SubResource("StandardMaterial3D_wovta")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_fo5tq"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xpg3b"]

[sub_resource type="ArrayMesh" id="ArrayMesh_sk4ss"]
_surfaces = [{
"aabb": AABB(-1, -1, -1, 2, 2, 2),
"format": 34896613377,
"index_count": 186,
"index_data": PackedByteArray("DgAFAAIADwAFAA4ADwAOAAIABQAQAAIABQARABAAEAARAAIADwARAAUAEQAIAAIAEQASAAgACAASAAIAEQAAABIADwAAABEAEgAAABMAEgATAAIAEwAAAAIAAAAUAAIAAAABABQAFAABAAIAAAAVAAEAAQAWAAIAAQAVABYAFgAVAAIAAAAXABUADwAXAAAAFQAHAAIAFQAYAAcABwAYAAIAFQAXABgAGAAXABkAGAAZAAIAGQAXAAIACQAPAAIAGgAPAAkAGgAJAAIAGwAPABoADQAaAAIAGwAaAA0AGwANAAIAHAAPABsAFwAPABwAAwAbAAIAHQAbAAMAHAAbAB0AHQADAAIAHAAdAAwADAAdAAIAHAAMAAIAFwAcAB4ABAAcAAIAHwAcAAQAHwAEAAIAHgAcAB8ACwAfAAIAHgAfAAsAHgALAAIAFwAGAAIACgAeAAIAFwAgAAYAFwAeACAAIAAeAAoABgAgAAIAIAAKAAIA"),
"lods": [0.0487413, PackedByteArray("BQAIAAIABQAAAAgACAAAAAIACQAAAAUACQAFAAIAAAABAAIAAAAGAAEACQAGAAAAAQAHAAIAAQAGAAcABwAGAAIABgAJAAQABgAKAAIABgAEAAoACgALAAIACgAEAAsACwAEAAIABAAMAAIABAADAAwADAADAAIABAAJAAMADQAJAAIAAwAJAA0AAwANAAIA"), 0.189038, PackedByteArray("BQAAAAIAAwAAAAUAAwAFAAIAAAABAAIABAADAAIAAwAGAAAABgADAAQAAAAGAAEABgAEAAIAAQAHAAIABwAGAAIAAQAGAAcA"), 0.460686, PackedByteArray("AAABAAIAAwABAAAAAwAAAAIAAQAEAAIABAADAAIAAQADAAQA")],
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 33,
"vertex_data": PackedByteArray("if0AAAZnAACJ/QAA+JgAAP9/////fwAAvgkAAANPAAC+CQAA+7AAAPiYAAB1AgAA/38AAP//AACB2gAAgdoAAIHaAAB9JQAAA08AAL4JAAADTwAAQPYAAH0lAACB2gAAAAAAAP9/AAB9JQAAfSUAAP9/AAAAAAAABmcAAHUCAAD7sAAAvgkAABzHAACSFQAAbOoAAOI4AABA9gAAA08AAP//AAD/fwAAbOoAABzHAABA9gAA+7AAAPiYAACJ/QAAHMcAAGzqAAD7sAAAQPYAAOI4AACSFQAAkhUAAOI4AAB1AgAA+JgAAHUCAAAGZwAA4jgAAGzqAACSFQAAHMcAAAZnAACJ/QAA")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_m1htj"]
resource_name = "cone_Cone"
_surfaces = [{
"aabb": AABB(-1, -1, -1, 2, 2, 2),
"attribute_data": PackedByteArray("QXwCtEF8+8v/P/+/PAeC1/8//788B3yo/z//v/8//788h3yoQfz7y0H8ArQ8h4LX/Eu9g3FrcOv/P2/9/79v/XDrcOv7y72DcWuNlHwoPIeOFI2UjwL/v44UcOt8KML4cOuNlHyoPId8qML4jZRw642UjZSOgv+//z+OgvxLvYOCVzyH/z//v4JXPIchYumM/z//vyFi6Yz/P/+/cWuNlBVz3Z3/P/+/FXPdncJ4fKj/P/+/wnh8qP8//79BfAK0cH3/v/8//79wff+/QXz7y8J4gtf/P/+/wniC1xVzIeL/P/+/FXMh4nFrcOv/P/+/IWIU8/8//78hYhTzglfC+P8//7+CV8L4/EtB/P8//7/8S0H8/z9v/QM0Qfz/P/+/AzRB/P8//798KML43R0U8/8//7/dHRTz/z//v44UcOvqDCHi/z//v+oMIeL/P/+/PAeC170D+8u9A/vL/z//v48C/7+9AwK0/z//v70DArQ8B3yo/z//v+oM3Z3/P/+/6gzdnY4UjZT/P/+/3R3pjP8//7/dHemMfCg8h/8//78CtL2D/7+OgiHi6YyC1zyHFPPdncL4fKhv/f+/FPMh4sL4gtf7y0H8IeIU84LXwvgCtEH83Z0U872D+8vpjCHi3Z3pjOmM3Z29gwK0AzS9g/8//78DNL2D/z+Ogv8//78="),
"format": 34896613399,
"index_count": 186,
"index_data": PackedByteArray("HgAMAAYAHwAgACEAIgAjACQAJQASACYAJwAoACkAKgArACwALQAAAC4ALwAwADEAMgAzAAIAAQA0ADUANgA3ADgAOQA6ADsADQA8AD0APgA/AEAAQQBCAEMARAAOAAQARQBGAEcASAAXAEkASgBLAEwATQAWAE4ATwBQAFEAUgADAFMAVABVAAcAVgAVAFcAWABZAFoAWwBcAF0ABQBeAF8AYABhAGIAFABjAGQAZQBmAGcAaAARAGkAEQBqAGsAaABqABEAagBsABgAagAKAGwAbAAKAG0AaAAKAGoACgAJAG4ACgBvAAkACQBvAHAACgBxAG8AaABxAAoAbwByABAAbwBxAHIAcgBxAHMAcQB0AA8AcQB1AHQAdAB1ABoAcQBoAHYAcQB2AHUAdQB3ABsAdQB2AHcAdwB2AAsAeABoABkAeQBoAHgAdgBoAHkAeQB4ABwAdgB5AHoAegB5AAgAdgB6AB0AEwB7AHwAfQB+AH8A"),
"lods": [0.0487413, PackedByteArray("DAASAAYAEgAAAAYAEwAMAAYAFAATAAYABQAUAAYAAAABAAIAFQAFAAcAAwAVAAcAFgADAAQAAQANAAQAFwAWAAQADQAOAAQADgAXAAQAEQAKABgAGQAKABEAGQAPAAoACgAPAAkACQAPABAADwAZAAsADwALABoAGgALABsACwAZAAgACAAZABwACwAIAB0A"), 0.189038, PackedByteArray("DAAAAAYABQAMAAYAAAABAAIAAwAFAAcAAQANAAQADgADAAQADQAOAAQACQAPABAACgAPAAkACAAPAAoADwAIAAsACAAKABEA"), 0.460686, PackedByteArray("AAABAAIAAQADAAQABQAAAAYAAwAFAAcACAAJAAoACQAIAAsA")],
"material": SubResource("StandardMaterial3D_xpg3b"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 128,
"vertex_data": PackedByteArray("if0AAAZnb9OJ/QAA+Jg8w/9/////f7zIvgkAAPuwib3/f////3++lL4JAAADT6jY/3////9/4uz/f////388w74JAAADT/8/if0AAPiY/z+J/QAABmf/P74JAAD7sP8/+JgAAHUC4uyB2gAAgdqisP9/AAD//76U/38AAP///z+B2gAAgdr/P/iYAAB1Av8/gdoAAH0lnOIDTwAAvgmz6n0lAAB9JZziAAAAAP9/vMh9JQAAgdqisANPAABA9qSegdoAAH0l/z8DTwAAvgn/PwNPAABA9v8/fSUAAIHa/z99JQAAfSX/PwAAAAD/f/8//38AAAAA4uz4mAAAdQKz6vuwAAC+CbPq/3////9/s+r7sAAAvgkO5xzHAACSFQ7n/3////9/DuccxwAAkhWc4v9/////f5zigdoAAH0lwN1s6gAA4jjA3f9/////f8DdbOoAAOI4qNhA9gAAA0+o2P9/////f6jYQPYAAANPb9P/f////39v04n9AAAGZyDO//8AAP9/IM7/f////38gzv//AAD/f7zIif0AAPiYvMhA9gAA+7A8w/9/////fzzDQPYAAPuwib1s6gAAHMeJvf9/////f4m9bOoAABzHcreB2gAAgdpyt/9/////f3K3HMcAAGzqorD/f////3+isBzHAABs6ouo+7AAAED2i6j/f////3+LqPuwAABA9qSe+JgAAIn9pJ7/f////3+knviYAACJ/b6U/38AAP//vpQGZwAAif2+lP9/////f76UBmcAAIn9pJ7/f////3+kngNPAABA9ouo4jgAAGzqi6j/f////3+LqOI4AABs6qKw/3////9/orB9JQAAgdpyt5IVAAAcx3K3/3////9/creSFQAAHMeJvf9/////f4m9vgkAAPuwPMN1AgAA+Jg8w3UCAAD4mLzI/3////9/vMgAAAAA/38gznUCAAAGZyDO/3////9/IM51AgAABmdv074JAAADT2/T/3////9/b9OSFQAA4jio2P9/////f6jYkhUAAOI4wN19JQAAfSXA3f9/////f8Dd4jgAAJIVnOL/f////3+c4uI4AACSFQ7nA08AAL4JDuf/f////38O5wZnAAB1Av8//38AAAAA/z8cxwAAkhX/P/uwAAC+Cf8/bOoAAOI4/z9A9gAAA0//P///AAD/f/8/bOoAABzH/z9A9gAA+7D/P/iYAACJ/f8/HMcAAGzq/z/7sAAAQPb/PwZnAACJ/f8/4jgAAGzq/z91AgAA+Jj/P5IVAAAcx/8/4jgAAJIV/z+SFQAA4jj/P3UCAAAGZ/8/BmcAAHUCs+r/f////3+z6gZnAAB1AuLs/38AAAAA4uz/f////3/i7MK9gFpYtZtf0rd/XRjiy8wb1bB3ydmRvi3y23Sb36XKAAD/fwAA/38AAP9/AAD/fy3y23S4sEpoG9WwdwAA/38AAP9/AAD/f43LPFtG5t2gPNtxtH7dLMhK6EbPkvDyxgAA/38AAP9/AAD/fwAA/38AAP9/AAD/fy3y23Qh30dmId9HZiHfR2Zh08VeYdPFXmHTxV6Nyzxbjcs8W97F4VnexeFZ3sXhWW3BylltwcpZbcHKWcK9gFrCvYBamrrGW5q6xluausZb0rd/XdK3f11YtZtfWLWbXzKzGWIysxliMrMZYoOx+2SDsftkg7H7ZLiwSmi4sEpo/bEUbP2xFGz9sRRsDLmScAy5knAMuZJwG9Wwd6/346qv9+Oqr/fjqpLw8saS8PLGFOwBzhTsAc4U7AHOSuhGz0roRs/75HrO++R6zvvkes4Y4svMGOLLzJvfpcqb36XKft0syH7dLMjG22PFxttjxcbbY8V/2jvCf9o7wn/aO8LJ2ZG+ydmRvuDZILrg2SC64NkgujzbcbQ823G0xd6drMXenazF3p2sAAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/fwAA/38AAP9/AAD/f0bm3aBG5t2g2/TQjdv00I3b9NCN")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_sk4ss")

[sub_resource type="CylinderMesh" id="CylinderMesh_m1htj"]
top_radius = 0.0
bottom_radius = 4.17
height = 30.0
radial_segments = 32

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_m1htj"]
points = PackedVector3Array(-4.17, -15, -0.000816345, -4.09, -15, -0.813917, -4.09, -15, 0.813101, -3.33649, -9.00059, -0.000816345, -3.85325, -15, -1.596, -0.000816345, 15, -0.000816345, -3.85325, -15, 1.59518, -3.46792, -15, -2.31685, 1.66784, 2.99824, -0.000816345, 4.08918, -15, -0.813917, 3.85243, -15, -1.596, 3.46711, -15, -2.31685, 1.76907, -3.00117, -1.76988, 2.31603, -15, -3.46792, 1.59518, -15, -3.85325, 0.813101, -15, -4.09, -0.000816345, -9.00059, -3.33649, -0.813917, -15, -4.09, -1.596, -15, -3.85325, -2.31685, -15, -3.46792, -1.76988, -3.00117, -1.76988, -3.46792, -15, 2.31603, -1.76988, -3.00117, 1.76907, -2.31685, -15, 3.46711, -1.596, -15, 3.85243, -0.813917, -15, 4.08918, -0.000816345, 2.99824, 1.66784, 0.813101, -15, 4.08918, 0.650644, -9.00059, 3.27118, 1.59518, -15, 3.85243, 0.46288, 8.99765, 0.693095, 0.589417, 8.99765, 0.589417, 0.693095, 8.99765, 0.46288, 3.85243, -15, 1.59518, 3.27118, -9.00059, 0.650644, 4.08918, -15, 0.813101, -2.94872, -15, -2.94872, 3.33567, -9.00059, -0.000816345, 4.16918, -15, -0.000816345, 2.9479, -15, -2.94872, -0.000816345, -15, -4.17, -2.94872, -15, 2.9479, -0.000816345, -15, 4.16918, -0.000816345, -9.00059, 3.33567, 2.31603, -15, 3.46711, 1.76907, -3.00117, 1.76907, 3.46711, -15, 2.31603, 2.9479, -15, 2.9479)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_m1htj"]
radius = 16.0

[node name="Enemy" type="StaticBody3D" groups=["Interactable", "NPC", "Object"]]
collision_layer = 5
script = ExtResource("1_m1htj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("CapsuleMesh_xeo28")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_fo5tq")

[node name="RayCast3D" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6, 0)
target_position = Vector3(0, 0, -222)
collision_mask = 3

[node name="Cone" type="MeshInstance3D" parent="."]
transform = Transform3D(2.14, 0, 0, 0, -5.48069e-07, -2.14, 0, 12.5384, -9.35424e-08, 0, 0.6, -12)
visible = false
mesh = SubResource("ArrayMesh_m1htj")
skeleton = NodePath("")

[node name="DetectionArea" type="Area3D" parent="."]
visible = false
collision_mask = 2

[node name="MeshInstance3D" type="MeshInstance3D" parent="DetectionArea"]
transform = Transform3D(2.26156, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.6, -15)
visible = false
mesh = SubResource("CylinderMesh_m1htj")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="DetectionArea"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.6, -15)
shape = SubResource("ConvexPolygonShape3D_m1htj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DetectionArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -16)
shape = SubResource("CylinderShape3D_m1htj")

[node name="FiringArea" type="Area3D" parent="."]
visible = false
collision_mask = 2

[node name="MeshInstance3D" type="MeshInstance3D" parent="FiringArea"]
transform = Transform3D(2.26156, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.6, -15)
visible = false
mesh = SubResource("CylinderMesh_m1htj")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="FiringArea"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.6, -15)
shape = SubResource("ConvexPolygonShape3D_m1htj")

[connection signal="body_entered" from="DetectionArea" to="." method="_on_area_3d_body_entered"]
[connection signal="body_exited" from="DetectionArea" to="." method="_on_area_3d_body_exited"]
